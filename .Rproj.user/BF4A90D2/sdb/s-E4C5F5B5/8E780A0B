{
    "collab_server" : "",
    "contents" : "---\ntitle: 在R中使用結巴分詞\nauthor: Yi-Ju Tseng\ndate: '2017-08-21'\nslug: jiebaR\ncategories: [Text Mining]\ntags:\n  - jiebaR\n  - R\n---\n\n\n## 有關結巴\n\n[“结巴”中文分词：做最好的 Python 中文分词组件](https://github.com/fxsjy/jieba)\n\n## 在R內使用結巴分詞\n\n### 安裝載入套件\n安裝套件\n\n```r\ninstall.packages(\"jiebaR\")\n```\n\n載入套件\n\n```r\nlibrary(jiebaR) #載入jiebaR package\n```\n\n```\n## Loading required package: jiebaRD\n```\n\n### 斷詞\n新增斷詞工具\n\n```r\ncutter <- worker()\ncutter \n```\n\n```\n## Worker Type:  Jieba Segment\n## \n## Default Method  :  mix\n## Detect Encoding :  TRUE\n## Default Encoding:  UTF-8\n## Keep Symbols    :  FALSE\n## Output Path     :  \n## Write File      :  TRUE\n## By Lines        :  FALSE\n## Max Word Length :  20\n## Max Read Lines  :  1e+05\n## \n## Fixed Model Components:  \n## \n## $dict\n## [1] \"C:/Users/yjtseng/Documents/R/win-library/3.4/jiebaRD/dict/jieba.dict.utf8\"\n## \n## $user\n## [1] \"C:/Users/yjtseng/Documents/R/win-library/3.4/jiebaRD/dict/user.dict.utf8\"\n## \n## $hmm\n## [1] \"C:/Users/yjtseng/Documents/R/win-library/3.4/jiebaRD/dict/hmm_model.utf8\"\n## \n## $stop_word\n## NULL\n## \n## $user_weight\n## [1] \"max\"\n## \n## $timestamp\n## [1] 1503299116\n## \n## $default $detect $encoding $symbol $output $write $lines $bylines can be reset.\n```\n\n斷詞實作\n\n```r\ncutter[\"這是一段測試用文字，請不要再戰長庚資管了\"]\n```\n\n```\n##  [1] \"這是\" \"一段\" \"測試\" \"用\"   \"文字\" \"請\"   \"不要\" \"再戰\" \"長庚\" \"資管\"\n## [11] \"了\"\n```\n\n### 詞性判別\n\n```r\ntagger <- worker(\"tag\")\ntagger[\"這是一段測試用文字，請不要再戰長庚資管了\"]\n```\n\n```\n##      x      m     vn      p      n     zg     df      v    nrt      x \n## \"這是\" \"一段\" \"測試\"   \"用\" \"文字\"   \"請\" \"不要\" \"再戰\" \"長庚\" \"資管\" \n##     ul \n##   \"了\"\n```\n\n### 新增自訂詞彙\n\n```r\nnew_user_word(cutter,'長庚資管',\"n\")\n```\n\n```\n## [1] TRUE\n```\n\n```r\ncutter[\"這是一段測試用文字，請不要再戰長庚資管了\"]\n```\n\n```\n##  [1] \"這是\"     \"一段\"     \"測試\"     \"用\"       \"文字\"     \"請\"      \n##  [7] \"不要\"     \"再戰\"     \"長庚資管\" \"了\"\n```\n\n\n### 自訂停止詞\n\n[停止詞範例檔下載](https://blog.yjtseng.info/file/stop.txt)\n\n\n```r\ncutter = worker(stop_word =\"stop.txt\")\ncutter[\"這是一段測試用文字，請不要再戰長庚資管了\"]\n```\n\n```\n##  [1] \"這是\" \"一段\" \"測試\" \"用\"   \"文字\" \"不要\" \"再戰\" \"長庚\" \"資管\" \"了\"\n```\n\n\n## 操作範例\n\n### 載入需要做分詞的資料\n\n\n```r\nlibrary(rvest)\n```\n\n```\n## Loading required package: xml2\n```\n\n```r\nlibrary(RCurl)\n```\n\n```\n## Loading required package: bitops\n```\n\n```r\nPTTNBA <- getURL(\"https://www.dcard.tw/f/universiade\")\n```\n\n```\n## Error in function (type, msg, asError = TRUE) : Unknown SSL protocol error in connection to www.dcard.tw:443\n```\n\n```r\npttContent <- read_html(PTTNBA)\n```\n\n```\n## Error in read_html(PTTNBA): 找不到物件 'PTTNBA'\n```\n\n```r\npost_title <- pttContent %>% html_nodes(\".title\") %>% html_text()\n```\n\n```\n## Error in eval(lhs, parent, parent): 找不到物件 'pttContent'\n```\n\n```r\npost_title\n```\n\n```\n## Error in eval(expr, envir, enclos): 找不到物件 'post_title'\n```\n\n### 斷詞\n\n```r\ncutter <- worker()\ncutter[post_title] ## 不分行輸出\n```\n\n```\n## Error in segment(code, jiebar): 找不到物件 'post_title'\n```\n\n```r\ncutter$bylines<-T\ncutter[post_title] ## 分行輸出\n```\n\n```\n## Error in segment(code, jiebar): 找不到物件 'post_title'\n```\n\n### 分析斷詞後最常出現的詞彙\n\n```r\ncutter <- worker()\nsort(table(cutter[post_title]),decreasing = T)\n```\n\n```\n## Error in segment(code, jiebar): 找不到物件 'post_title'\n```\n\n## 參考資料\n- [jiebaR GitHub](https://github.com/qinwf/jiebaR)\n- [jiebaR 使用指南](http://qinwenfeng.com/jiebaR/)\n- [用結巴斷詞實作文字視覺化 — 以 2016 總統就職演講為例](http://blog.infographics.tw/2016/05/text-visualization-with-jieba/)\n",
    "created" : 1503299257679.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1205267147",
    "id" : "8E780A0B",
    "lastKnownWriteTime" : 1503299252,
    "last_content_update" : 1503299252,
    "path" : "~/GitHub/RBlog/content/post/2017-08-21-jiebaR.markdown",
    "project_path" : "content/post/2017-08-21-jiebaR.markdown",
    "properties" : {
    },
    "relative_order" : 10,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "text"
}